var alm_seo={};(function(){alm_seo.init=true;alm_seo.paging=false;alm_seo.previousUrl=window.location.href;alm_seo.isAnimating=false;alm_seo.defaultPage=1;alm_seo.fromPopstate=false;alm_seo.HTMLHead=document.getElementsByTagName('head')[0].innerHTML;alm_seo.nested=false;alm_seo.timer=null;alm_seo.isIE=(navigator.appVersion.indexOf("MSIE 10")!==-1)?true:false;window.almSEO=function(alm,preloadedInit){if(!alm.addons.seo){return false;}
alm_seo.nested=(alm.main.dataset.nested==='true')?true:false;alm_seo.seo_scroll=(alm.addons.seo_scroll===undefined)?'true':alm.addons.seo_scroll;alm_seo.scroll=(alm.addons.seo_scroll==='true')?true:false;alm_seo.canonical_url=alm.canonical_url;alm_seo.slug=alm.slug;alm_seo.permalink=alm.addons.seo_permalink;alm_seo.pageview=alm.addons.seo_pageview;alm_seo.postsPerPage=alm.posts_per_page;alm_seo.totalposts=alm.totalposts;alm_seo.totalposts=(alm.addons.preloaded_amount)?parseInt(alm.addons.preloaded_amount)+alm_seo.totalposts:alm_seo.totalposts;alm_seo.totalpages=Math.ceil(alm_seo.totalposts/alm_seo.postsPerPage);alm_seo.preloaded=(alm.addons.preloaded==='true')?true:false;alm_seo.scrolltop=parseInt(alm.addons.seo_scrolltop);alm_seo.controls=alm.addons.seo_controls;alm_seo.controls=(alm_seo.controls==='1')?true:false;alm_seo.newPath='';alm_seo.paging=alm.addons.paging;alm_seo.content=alm.listing;alm_seo.trailingslash=(alm_seo.content.dataset.seoTrailingSlash==='false')?'':'/';alm_seo.leadingslash=(alm_seo.content.dataset.seoLeadingSlash==='true')?'/':'';alm_seo.first=alm_seo.content.querySelector('.alm-seo:first-child');if(alm.is_search===undefined){alm.is_search=false;}
alm_seo.search_value=(alm.is_search==='true')?alm_seo.slug:'';var page=alm.page+1,nextpage=(alm_seo.preloaded)?alm.page+3:alm.page+2,start=(alm_seo.preloaded)?0:1;nextpage=(preloadedInit)?alm.page+2:nextpage;alm_seo.newPath=alm_seo.getURL(page,start,alm_seo.permalink);alm_seo.nextPath=alm_seo.getURL(nextpage,start,alm_seo.permalink);if(preloadedInit){alm_seo.init=false;return false;}
if(page>=1&&!alm_seo.paging){if(alm_seo.scroll||alm_seo.init){if(alm_seo.preloaded){if(alm_seo.init&&alm.start_page>0){alm_seo.scrollToPage(page+1);}else{if(alm_seo.scroll){alm_seo.scrollToPage(page+1);}}}else{if(page>1){alm_seo.scrollToPage(page);}}}}
if(alm_seo.paging&&alm_seo.init){alm_seo.defaultPage=page;if(alm_seo.preloaded){alm_seo.defaultPage=parseInt(alm_seo.content.dataset.seoStartPage)+1;}}
if(alm_seo.paging){if(!alm_seo.fromPopstate){alm_seo.setURL(page,alm_seo.newPath);}else{alm_seo.fromPopstate=false;}}
if(alm_seo.init){if(alm_seo.preloaded){alm_seo.getRelLinks(page+1,alm_seo.nextPath);}else{alm_seo.getRelLinks(page,alm_seo.nextPath);}}
setTimeout(function(){alm_seo.init=false;},250);};alm_seo.getURL=function(page,start,permalink){var new_url;var querystring=window.location.search;if(alm_seo.permalink==='default'){var url=alm_seo.cleanURL(window.location.toString());if(querystring!==''&&page>start){if(!alm_seo.getQueryVariable('paged')){new_url=url+'&paged='+page;}else{new_url=url.replace(/(paged=)[^\&]+/,'$1'+page);}}else{if(page>1){new_url=url+'?paged='+page;}else{new_url=url;}}}else{if(page===1){new_url=alm_seo.canonical_url+querystring;}else{new_url=alm_seo.canonical_url+alm_seo.leadingslash+'page/'+page+alm_seo.trailingslash+querystring;}}
return new_url;};alm_seo.onScroll=function(){var scrollTop=window.pageYOffset;if(!alm_seo.isAnimating&&!alm_seo.paging&&!alm_seo.init){if(alm_seo.timer){window.clearTimeout(alm_seo.timer);}
alm_seo.timer=window.setTimeout(function(){var fromTop=scrollTop+alm_seo.scrolltop;var posts=document.querySelectorAll('.alm-seo');var url=window.location.href;var current=Array.prototype.filter.call(posts,function(n,i){if(typeof ajaxloadmore.getOffset==='function'){var divOffset=ajaxloadmore.getOffset(n);if(divOffset.top<fromTop){return n;}}});var currentPost=current[current.length-1];var permalink=(currentPost)?currentPost.dataset.url:'';var page=(currentPost)?currentPost.dataset.page:'';if(page===undefined||page===''){page=alm_seo.first.dataset.page;permalink=alm_seo.first.dataset.url;}
if(url!==permalink){alm_seo.setURL(page,permalink);}},15);}};window.addEventListener('touchstart',alm_seo.onScroll);window.addEventListener('scroll',alm_seo.onScroll);alm_seo.setURL=function(page,permalink){if(alm_seo.nested)return false;var state={page:page,permalink:permalink};if(permalink!==alm_seo.previousUrl&&!alm_seo.fromPopstate){if(typeof window.history.pushState==='function'&&!alm_seo.isIE){if(alm_seo.controls){history.pushState(state,window.location.title,permalink);}else{history.replaceState(state,window.location.title,permalink);}
if(typeof almUrlUpdate==='function'){window.almUrlUpdate(permalink,'seo');}}
if(alm_seo.pageview==='true'){var path='/'+window.location.pathname;if(typeof ajaxloadmore.tracking==='function'){ajaxloadmore.tracking(path);}else{if(typeof gtag==='function'){gtag('event','page_view',{'page_path':path});}
if(typeof ga==='function'){ga('send','pageview',path);}
if(typeof __gaTracker==='function'){__gaTracker('send','pageview',path);}}}
alm_seo.previousUrl=permalink;}
alm_seo.getRelLinks(page,permalink);alm_seo.fromPopstate=false;};alm_seo.onpopstate=function(event){if(alm_seo.nested)return false;var almListing=document.querySelector('.alm-listing[data-seo="true"]')||document.querySelector('.alm-comments[data-seo="true"]');if(almListing){if(!alm_seo.paging){alm_seo.fromPopstate=true;alm_seo.getPageState(event.state);}else{if((typeof almSetCurrentPage==='function')&&(typeof almGetParentContainer==='function')&&(typeof almGetObj==='function')){var current=event.state,obj=window.almGetParentContainer(),alm=window.almGetObj();current=(current===null)?alm_seo.defaultPage:event.state.page;alm_seo.fromPopstate=true;if(typeof almSetCurrentPage==='function'){window.almSetCurrentPage(current,obj,alm);}}}}};window.addEventListener('popstate',function(event){if(typeof window.history.pushState=='function'){var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;document.body.scrollTop=scrollTop;alm_seo.onpopstate(event);}});alm_seo.removeRelLink=function(rel){if(rel){rel.parentNode.removeChild(rel);}};alm_seo.getPageState=function(data){var page;if(data===null||data===''){page=-1;}else{page=data.page;}
var almListing=document.querySelector('.alm-listing[data-seo="true"]')||document.querySelector('.alm-comments[data-seo="true"]');if(almListing){alm_seo.scrollToPage(page);}};alm_seo.scrollToPage=function(page){page=(page===undefined||page===''||page==='-1'||page===-1)?alm_seo.first.dataset.page:page;if(alm_seo.isAnimating){return false;}
alm_seo.isAnimating=true;var target=document.querySelector('.alm-seo[data-page="'+page+'"]');if(target){var offset=(typeof ajaxloadmore.getOffset==='function')?ajaxloadmore.getOffset(target).top:target.offsetTop;var top=offset-alm_seo.scrolltop+5;if(alm_seo.init||alm_seo.fromPopstate){setTimeout(function(){window.scrollTo(0,top);alm_seo.fromPopstate=false;},5);}else{if(typeof ajaxloadmore.almScroll==='function'){ajaxloadmore.almScroll(top);}else{window.scrollTo({top:top,behavior:'smooth'});}}}
setTimeout(function(){alm_seo.isAnimating=false;},250);};alm_seo.getRelLinks=function(page,permalink){page=parseInt(page);var prevPage=(parseInt(page)-1);var nextPage=(parseInt(page)+1);alm_seo.setRelLink(prevPage,permalink,'prev');alm_seo.setRelLink(nextPage,permalink,'next');};alm_seo.setRelLink=function(page,permalink,type){var rel=document.querySelector('link[rel="'+type+'"]');if(type==='next'&&alm_seo.totalpages<page){alm_seo.removeRelLink(rel);return false;}
if((page>=1)){var link=alm_seo.getURL(page,0,permalink);if(rel){rel.href=link;}else{rel=document.createElement('link');rel.href=link;rel.rel=type;document.getElementsByTagName('head')[0].appendChild(rel);}}else{alm_seo.removeRelLink(rel);}};alm_seo.cleanURL=function(path){var loc=path,index=loc.indexOf('#');path=(index>0)?path.substring(0,index):path;return path;};alm_seo.getQueryVariable=function(variable){var query=window.location.search.substring(1);var vars=query.split('&');for(var i=0;i<vars.length;i++){var pair=vars[i].split('=');if(decodeURIComponent(pair[0])==variable){return decodeURIComponent(pair[1]);}}
return false;};})();